<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Fancy P2P Demo</title>
  <script type="module" src="//unpkg.com/es-module-shims@0.4.6/dist/es-module-shims.min.js"></script>
  <script type="importmap-shim" src="import-map.json"></script>
  <!-- Production -->
  <script prod-only type="prod-only-module-shim" src="//unpkg.com/@mothepro/fancy-p2p/dist/esm/demo/index.js"></script>
  <!-- Development -->
  <script dev-only type="application/javascript" src="//unpkg.com/typescript@3.8.3/lib/typescript.js"></script>
  <script dev-only type="module" src="//unpkg.com/@mothepro/ts-module-shim/dist/esm/index.js"></script>
  <script dev-only type="module-shim" src="index.ts"></script>
</head>

<body>
  <form action>
    <input required type="number" name="port" id="port" placeholder="Port" />
    <input required type="number" name="lobby" placeholder="Lobby Code" />
    <input required type="text" name="name" placeholder="Name" />
    <input type="submit" value="Connect">
  </form>

  <!-- Add `lit-peer` element with the attributes if the query parameters are set. -->
  <script>
    const params = new URLSearchParams(location.search)
    if (params.has('port') && params.has('lobby') && params.has('name'))
      document.body.innerHTML += `<lit-peer
          port=${params.get('port')}
          name=${params.get('name')}
          lobby=${params.get('lobby')}
        ></lit-peer>`
  </script>
</body>

</html>
